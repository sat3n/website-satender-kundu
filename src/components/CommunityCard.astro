---
interface Props {
  organization: string;
  role: string;
  description: string;
  startDate: Date;
  endDate?: Date;
  url?: string;
  type: string;
}

const { organization, role, description, url, type } = Astro.props;

const typeLabels: Record<string, string> = {
  "non-profit": "Non-profit",
  "open-source": "Open Source",
  mentoring: "Mentoring",
  volunteering: "Volunteering",
};
---

<div class="py-3 border-b border-[var(--color-border)] last:border-b-0">
  <div class="flex items-start justify-between gap-4">
    <div>
      <p class="font-medium text-[var(--color-text)]">
        {
          url ? (
            <a
              href={url}
              target="_blank"
              rel="noopener noreferrer"
              class="hover:text-[var(--color-accent)]"
            >
              {organization}
            </a>
          ) : (
            organization
          )
        }
      </p>
      <p class="text-sm text-[var(--color-text-muted)]">{role}</p>
      <p class="mt-1 text-sm text-[var(--color-text-muted)]">{description}</p>
    </div>
    <span
      class="text-xs px-2 py-0.5 rounded-full bg-[var(--color-surface)] text-[var(--color-text-muted)] shrink-0"
    >
      {typeLabels[type] || type}
    </span>
  </div>
</div>
